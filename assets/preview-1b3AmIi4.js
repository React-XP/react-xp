import{j as h}from"./jsx-runtime-Nms4Y4qS.js";import{R as O}from"./index-BwDkhjyp.js";import{T as A,t as P}from"./themeContext-BtqCvWUx.js";import{v as D}from"./v4-CQkTLCs1.js";import"./_commonjsHelpers-BosuxZz1.js";const{useParameter:I,addons:w,useEffect:b,useMemo:te}=__STORYBOOK_MODULE_PREVIEW_API__;var j=Object.defineProperty,L=(e,t)=>{for(var r in t)j(e,r,{get:t[r],enumerable:!0})},M={};L(M,{initializeThemeState:()=>y,pluckThemeFromContext:()=>R,useThemeParameters:()=>S});var g="themes",x=`storybook/${g}`,k="theme",N={},B={REGISTER_THEMES:`${x}/REGISTER_THEMES`};function R({globals:e}){return e[k]||""}function S(){return I(g,N)}function y(e,t){w.getChannel().emit(B.REGISTER_THEMES,{defaultTheme:t,themes:e})}var C="html",T=e=>e.split(" ").filter(Boolean),V=({themes:e,defaultTheme:t,parentSelector:r=C})=>(y(Object.keys(e),t),(o,s)=>{let{themeOverride:i}=S(),n=R(s);return b(()=>{let a=i||n||t,c=document.querySelector(r);if(!c)return;Object.entries(e).filter(([p])=>p!==a).forEach(([p,E])=>{let l=T(E);l.length>0&&c.classList.remove(...l)});let d=T(e[a]);d.length>0&&c.classList.add(...d)},[i,n]),o()});const Y=({children:e,defaultTheme:t="light",storageKey:r="react-xp-theme"})=>{const[o,s]=O.useState(()=>localStorage.getItem(r)||t);O.useEffect(()=>{const n=window.document.documentElement;if(n.classList.remove("light","dark"),o==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n.classList.add(a);return}n.classList.add(o)},[o]);const i={theme:P,themeName:o,setThemeName:n=>{localStorage.setItem(r,n),s(n)}};return h.jsx(A.Provider,{value:i,children:e})},{addons:$}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:F}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:f}=__STORYBOOK_MODULE_GLOBAL__;var K="storybook/actions",U=`${K}/action-event`,G={depth:10,clearOnStoryChange:!0,limit:50},v=(e,t)=>{let r=Object.getPrototypeOf(e);return!r||t(r)?r:v(r,t)},W=e=>!!(typeof e=="object"&&e&&v(e,t=>/^Synthetic(?:Base)?Event$/.test(t.constructor.name))&&typeof e.persist=="function"),z=e=>{if(W(e)){let t=Object.create(e.constructor.prototype,Object.getOwnPropertyDescriptors(e));t.persist();let r=Object.getOwnPropertyDescriptor(t,"view"),o=r==null?void 0:r.value;return typeof o=="object"&&(o==null?void 0:o.constructor.name)==="Window"&&Object.defineProperty(t,"view",{...r,value:Object.create(o.constructor.prototype)}),t}return e},H=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?D():Date.now().toString(36)+Math.random().toString(36).substring(2);function q(e,t={}){let r={...G,...t},o=function(...s){var E,l;if(t.implicit){let _=(E="__STORYBOOK_PREVIEW__"in f?f.__STORYBOOK_PREVIEW__:void 0)==null?void 0:E.storyRenders.find(m=>m.phase==="playing"||m.phase==="rendering");if(_){let m=!((l=window==null?void 0:window.FEATURES)!=null&&l.disallowImplicitActionsInRenderV8),u=new F({phase:_.phase,name:e,deprecated:m});if(m)console.warn(u);else throw u}}let i=$.getChannel(),n=H(),a=5,c=s.map(z),d=s.length>1?c:c[0],p={id:n,count:0,data:{name:e,args:d},options:{...r,maxDepth:a+(r.depth||3),allowFunction:r.allowFunction||!1}};i.emit(U,p)};return o.isAction=!0,o.implicit=t.implicit,o}const re=[V({themes:{light:"light",dark:"dark"},defaultTheme:"light"}),(e,{parameters:t})=>h.jsx(Y,{children:h.jsx(e,{})})],oe={parameters:{actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}}},args:{onClick:q("on-click")}};export{re as decorators,oe as default};
